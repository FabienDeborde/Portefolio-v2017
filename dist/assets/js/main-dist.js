$(function(){$(".nojs.notice-message").addClass("hidden");var t=$("#about"),e=$("#html"),o=$("#webdev"),i=$("#learning"),n=$("#msgForm"),s=$("#name"),a=$("#email"),r=$("#msg"),c=$("#submit"),l={},d=$(".grid").masonry({itemSelector:".grid-item",percentPosition:!0,fitWidth:!0,gutter:20,columnWidth:".grid-sizer"});d.imagesLoaded().progress(function(){d.masonry()}),d.on("layoutComplete",function(){var a=$(window).height(),r=200;l={about:t.offset().top-t.height()+2*r,aboutEnd:t.offset().top+t.height()-50,dot1:e.offset().top-a+0*r,dot2:o.offset().top-a+0*r,dot3:i.offset().top-a+0*r,form:n.offset().top-a,name:s.offset().top-a+r,msg:s.offset().top-a+r+s.height(),submit:c.offset().top-a+r/3},gumshoe.init({offset:200})});var u=function(t){var e=$(".grid-item");e.not(t).removeClass("active");var o=$(".grid-item img");$.each(o,function(t){var e=$(o[t]).attr("src");e=e.replace("large","small"),$(o[t]).attr("src",e)})};$(document).on("click",function(){$(event.target).closest(".grid-item").length<1&&u()}),$(".grid-item").on("click",function(){var t=$(this).find("img").attr("src");u($(this)),$(this).toggleClass("active"),t=$(this).hasClass("active")?t.replace("small","large"):t.replace("large","small"),$(this).find("img").attr("src",t)}),$("section#about").removeClass("nojs"),$("section#about .dot").removeClass("active");var m=function(t,e){var o=t.find(".dot");o.each(function(t,o){t<e&&setTimeout(function(){$(o).addClass("active")},200*t)})};$("section#contact").removeClass("nojs");var h=function(){s.addClass("active"),a.addClass("active")},f=function(){r.addClass("active")},v=function(){c.addClass("active")},g=function(){$(document).on("scroll",function(){var t=$(this).scrollTop(),e=$(this).width();console.log(e);var o=$(window).height();t>100&&e>768||t>=o&&e<=768?$("#sidebar").addClass("retracted"):$("#sidebar").removeClass("retracted"),t>l.about&&t<l.aboutEnd?$("section#about").addClass("unwrapped"):($("section#about").removeClass("unwrapped"),$("section#about .dot").removeClass("active")),t>l.dot1&&(m($("section#about #html .dots"),9),m($("section#about #js .dots"),9)),t>l.dot2&&(m($("section#about #webdev .dots"),9),m($("section#about #webdesign .dots"),7)),t>l.dot3&&(m($("section#about #organization .dots"),8),m($("section#about #learning .dots"),10)),t<l.form&&(s.removeClass("active"),a.removeClass("active"),r.removeClass("active"),c.removeClass("active")),t>l.name&&h(),t>l.msg&&f(),t>l.submit&&v()})};g()}),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(t){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length&&(t.preventDefault(),$("html, body").animate({scrollTop:e.offset().top},1e3,function(){var t=$(e);return t.focus(),!t.is(":focus")&&(t.attr("tabindex","-1"),void t.focus())}))}}),$(function(){function t(){const t=$("#msgForm");$(t).on("submit",function(e){e.preventDefault(),$("#submit").prop("disabled",!0);const o=$(t).serialize();$.ajax({method:"POST",url:"server-assets/private-mailer.php",data:o}).done(function(){console.log("message sent"),$("#submit-success").toggleClass("hidden"),t.fadeOut(),$("#name").val(""),$("#email").val(""),$("#msg").val(""),$("#submit").prop("disabled",!1)}).fail(function(t){$("#submit-error").html(t.responseText),$("#submit-error").toggleClass("hidden")})})}t()});