$(function(){$(".nojs.notice-message").addClass("hidden");var t=$("#about"),o=$("#html"),e=$("#webdev"),s=$("#learning"),a=$("#msgForm"),i=$("#name"),n=$("#email"),c=$("#msg"),l=$("#submit"),r=$(".grid").masonry({itemSelector:".grid-item",percentPosition:!0,fitWidth:!0,gutter:10,columnWidth:".grid-sizer"});r.imagesLoaded().progress(function(){r.masonry()});var d={};r.on("layoutComplete",function(){console.log("layout done, just this one time");var n=$(window).height(),c=200;d={about:t.offset().top-t.height()+c,aboutEnd:t.offset().top+t.height()-50,dot1:o.offset().top-n+.75*c,dot2:e.offset().top-n+.75*c,dot3:s.offset().top-n+.75*c,form:a.offset().top-n,name:i.offset().top-n+c,msg:i.offset().top-n+c+i.height(),submit:l.offset().top-n+c/2},gumshoe.init({offset:200})}),$(".grid-item").on("click",function(){$(".grid-item").not(this).removeClass("active"),$(this).toggleClass("active")}),$("section#about").removeClass("nojs"),$("section#about .dot").removeClass("active");var f=function(t,o){var e=t.find(".dot");e.each(function(t,e){t<o&&setTimeout(function(){$(e).addClass("active")},200*t)})};$("section#contact").removeClass("nojs");var u=function(){i.addClass("active"),n.addClass("active")},h=function(){c.addClass("active")},m=function(){l.addClass("active")};$(document).on("scroll",function(){var t=$(this).scrollTop(),o=$(window).height();console.log(t,o),t>100?$("#sidebar").addClass("retracted"):$("#sidebar").removeClass("retracted"),t>d.about&&t<d.aboutEnd?$("section#about").addClass("unwrapped"):($("section#about").removeClass("unwrapped"),$("section#about .dot").removeClass("active")),t>d.dot1&&(f($("section#about #html .dots"),9),f($("section#about #js .dots"),9)),t>d.dot2&&(f($("section#about #webdev .dots"),9),f($("section#about #webdesign .dots"),7)),t>d.dot3&&(f($("section#about #organization .dots"),8),f($("section#about #learning .dots"),10)),t<d.form&&(i.removeClass("active"),n.removeClass("active"),c.removeClass("active"),l.removeClass("active")),t>d.name&&u(),t>d.msg&&h(),t>d.submit&&m()}),console.log(d),$(".main-logo").on("click",function(t){t.preventDefault(),console.log(d);var o=$("#msgForm").offset().top,e=$("#msgForm").height(),s=$(window).height();console.log("offset: "+o),console.log("height: "+e),console.log("offset - height: "+(o-s))})}),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(t){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var o=$(this.hash);o=o.length?o:$("[name="+this.hash.slice(1)+"]"),o.length&&(t.preventDefault(),$("html, body").animate({scrollTop:o.offset().top},1e3,function(){var t=$(o);return t.focus(),!t.is(":focus")&&(t.attr("tabindex","-1"),void t.focus())}))}});